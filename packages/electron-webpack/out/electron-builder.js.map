{"version":3,"names":["_config","data","require","_default","context","electronWebpackConfig","getElectronWebpackConfiguration","distDir","commonDistDirectory","extraMetadata","main","files","from","filter","extraResources","staticSourceDirectory","to"],"sources":["../src/electron-builder.ts"],"sourcesContent":["import { Lazy } from \"lazy-val\"\nimport { getElectronWebpackConfiguration } from \"./config\"\n\ninterface Context {\n  projectDir: string\n  packageMetadata: Lazy<{ [key: string]: any } | null> | null\n}\n\nexport default async function(context: Context) {\n  const electronWebpackConfig = await getElectronWebpackConfiguration(context)\n  const distDir = electronWebpackConfig.commonDistDirectory!!\n  return {\n    extraMetadata: {\n      main: \"main.js\"\n    },\n    files: [\n      {\n        from: \".\",\n        filter: [\"package.json\"]\n      },\n      {\n        from: `${distDir}/main`\n      },\n      {\n        from: `${distDir}/renderer`\n      },\n      {\n        from: `${distDir}/renderer-dll`\n      }\n    ],\n    extraResources: [\n      {\n        from: electronWebpackConfig.staticSourceDirectory,\n        to: electronWebpackConfig.staticSourceDirectory\n      }\n    ]\n  }\n}\n"],"mappings":";;;;;;AACA,SAAAA,QAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,OAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAOe,eAAAE,SAAeC,OAAgB;EAC5C,MAAMC,qBAAqB,GAAG,MAAM,IAAAC,yCAA+B,EAACF,OAAO,CAAC;EAC5E,MAAMG,OAAO,GAAGF,qBAAqB,CAACG,mBAAqB;EAC3D,OAAO;IACLC,aAAa,EAAE;MACbC,IAAI,EAAE;KACP;IACDC,KAAK,EAAE,CACL;MACEC,IAAI,EAAE,GAAG;MACTC,MAAM,EAAE,CAAC,cAAc;KACxB,EACD;MACED,IAAI,EAAE,GAAGL,OAAO;KACjB,EACD;MACEK,IAAI,EAAE,GAAGL,OAAO;KACjB,EACD;MACEK,IAAI,EAAE,GAAGL,OAAO;KACjB,CACF;IACDO,cAAc,EAAE,CACd;MACEF,IAAI,EAAEP,qBAAqB,CAACU,qBAAqB;MACjDC,EAAE,EAAEX,qBAAqB,CAACU;KAC3B;GAEJ;AACH"}
